/*
 https://github.com/leeoniya/domvm (1.x-dev)
*/
("undefined"!==typeof global?global:this).domvm={};(function(w){var t=("undefined"==typeof window?{}:window).requestAnimationFrame,v={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,columnCount:!0,counterIncrement:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,"float":!0,fontWeight:!0,gridColumn:!0,lineHeight:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0,tabSize:!0,transform:!0,transformOrigin:!0,widows:!0,zIndex:!0,zoom:!0},g={TYPE_ELEM:1,
TYPE_TEXT:2,isArr:function(a){return a instanceof Array},isVal:function(a){a=typeof a;return"string"===a||"number"===a},isObj:function(a){return"object"===typeof a&&null!==a&&!g.isArr(a)},isFunc:function(a){return"function"===typeof a},isProm:function(a){return"object"===typeof a&&g.isFunc(a.then)},isElem:function(a){return a instanceof HTMLElement},execAll:function(a,d,n,c,q,p){var y;a&&(g.isArr(a)?a:[a]).forEach(function(a){y=a.call(null,d,n,c,q,p)});return y},repaint:function(a){},insertArr:function(a,
d,n,c){a.splice.apply(a,[n,c].concat(d))},isEvProp:function(a){return"on"===a.substr(0,2)},isDynProp:function(a,d){switch(a){case "input":case "textarea":case "select":case "option":switch(d){case "value":case "checked":case "selected":case "selectedIndex":return!0}}},camelDash:function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},autoPx:function(a,d){return isNaN(d)||v[a]?d:d+"px"},cmpArr:function(a,d){var n=a.length;if(n!=d.length)return!1;for(;n--;)if(a[n]!==d[n])return!1;return!0},
deepSet:function(a,d,n,c,q,p){d=d.split(".");var y=d.pop();d.forEach(function(c){a[c]||(a[c]={});a=a[c]});if(g.isFunc(a[y]))a[y](n,c,q,p);else a[y]=n},deepGet:function(a,d){var n=d.split(".");do a=a[n.shift()];while(n.length);return a},keyedIdx:function(a,d,n,c,q){for(c=0;c<d.length;c++)if(q=d[c],q.key===a)if(n){if(q.vm&&q.vm.view[0]===n)return c}else return c;return-1},raft:function(a){function d(){n=0;a.apply(c,q)}if(!t)return a;var n,c,q;return function(){c=this;q=arguments;n||(n=t(d))}}};w.utils=
g})(domvm);(function(w){function t(b){for(G.repaint&&l.repaint(b);b=H.shift();)b[0].apply(null,b.slice(1))}function v(b,h){return!1===h?null:null==h&&null!=b?b:l.isVal(h)||l.isObj(h)||l.isArr(h)||l.isFunc(h)?h:null}function g(b,h,m,c,z,e){function k(b,h,e){if(e)b[h]=b[h]||[],b[h].push(e);else for(var m in h)b[m]=b[m]||[],b[m].push(h[m])}function f(b,h,m){z=b;e=h;r.update(m,!1);null!=r.node&&(z.body[e]=r.node);return g(0,!1)}function p(b){return null==b?"":b}function g(b,a){a=!1!==a;if(b){for(var c=r;b--&&c.parent;)c=
c.parent;c.redraw(0,!0);return c.vm}(c=r.node)&&d(r,"willRedraw",r);var D=r.refs;r.refs={};r.body=[];var k=r.render.call(r.api,r,h,m),f;if(!1===k||(f=q(k,z,e,r,!0))&&C(c,f))return c.moved=!0,c.wasSame=!0,r.refs=D,r;f.vm=r;r.node=f;D=l.isVal(m)&&"^"===m[0]?m.substr(1):l.isVal(f.ref)&&"^"===f.ref[0]?f.ref.substr(1):null;f.key=null!=m?m:f.key;for(k=z;k;)k.vm&&(r.parent||(r.parent=k.vm,k.vm.body.push(r)),null!==D&&l.deepSet(k.vm.refs,D,f)),k=k.parent;if((D=c)&&(f.type!==c.type||f.tag!==c.tag))var D=null,
O=!0,p=c.el.parentNode;y(f,D);z&&(z.body[e]=f);a&&(c&&n(c),!c&&A||u(f,null,f.el),O&&((p||f.parent.el).insertBefore(f.el,p.childNodes[c.idx]),r.node=f));c&&d(r,"didRedraw",r);a&&c&&H.length&&t(f);return r}var A=!z;l.isArr(b)&&(h=b[1],m=b[2],c=b[3],b=b[0]);m=v(h,m);var r={api:{},node:null,view:[b,m],model:h,opts:c||{},render:null,update:function(b,e){null==b||m===h&&!l.isVal(m)||(h=r.model=b);return!1!==e?g(0):r},on:function(b,h){k(r.events,b,h)},hook:function(b,h){r.hooks=r.hooks||{};k(r.hooks,b,h)},
events:{},hooks:null,redraw:G.debounce?l.raft(g):g,patch:function(b,h){var e=null!=b.el;if(l.isObj(h)){b.props=b.props||{};var m="class"in h?(p(b["class"])+" "+p(h["class"])).trim():b.props["class"],c="style"in h?h.style:b.props.style;e&&(e=Object.create(b.props),e["class"]=m,e.style=c,e={tag:b.tag,el:b.el,ns:b.ns,props:e},I(e,b));b.props["class"]=m;b.props.style=c}else m=b.parent,e=y(q(h,m,b.idx,r),b),m.body[b.idx]=e},emit:function(b){for(var h=Array.prototype.slice.call(arguments),e=r,m;e;){if(m=
e.events[b]){h[0]=m;l.execAll.apply(null,h);break}e=e.parent}},refs:{},parent:null,body:[],mount:function(b,h){var e=null;h&&(b.textContent="",e=b,b=null);u(r.node,e,null,b);t(r.node);return r},attach:function(b){a(r.node,b);return r},unmount:function(){n(r.node)},moveTo:f,updIdx:function(b){e=b}};c&&c.hooks&&r.hook(c.hooks);l.execAll(F,r);r.render=b.call(r.api,r,h,m);return z?f(z,e):g(0)}function a(b,h){b.el=h;h._node=b;for(var m in b.props){var c=b.props[m],z=l.isEvProp(m)?m:"."===m[0]?m.substr(1):
null;null!==z&&(h[z]=c)}if(l.isArr(b.body))for(m=0;m<b.body.length;m++)a(b.body[m],h.childNodes[m])}function d(b,h,m,c,a,e){if(b&&b.hooks&&(b=b.hooks[h]))if("did"==h.substr(0,3))H.push([l.execAll,b,m,c,a,e]);else return l.execAll(b,m,c,a,e)}function n(b,h){var m=b.el&&!b.moved;if(m){var a=d(b.vm,"willUnmount",b.vm),z=d(b,"willRemove",b),e=a||z;b.removed=!0}b.wasSame?b.wasSame=!1:(l.isArr(b.body)&&b.body.forEach(function(b,m){n(b,h||e)}),h||(e?e.then(function(){c(b,m,!0)}):c(b,m)));b.moved=!1}function c(b,
h,m){null!=b.el&&b.el.parentNode?h&&(b.el.parentNode.removeChild(b.el),b.el=null,f(b),d(b.vm,"didUnmount",b.vm),d(b,"didRemove",b),m&&t(b.parent)):f(b)}function q(b,h,m,c,a){var e=b;b=0<J.length?J.pop():{type:null,key:null,ref:null,idx:null,parent:null,moved:!1,wasSame:!1,removed:!1,hooks:null,tag:null,"class":null,ns:null,guard:!1,raw:!1,props:null,el:null,hasKeys:!1,body:null,data:null,diff:null};l.isFunc(e)&&(e=e());var f=e.length;if(l.isArr(e)&&f){var k=""===e[0];b.type=k?l.TYPE_TEXT:l.TYPE_ELEM;
if(1<f){var q=1;!l.isObj(e[1])||e[1].redraw||l.isElem(e[1])||(b.props=e[1],q=2);b.body=f==q+1?l.isVal(e[q])?e[q]:l.isFunc(e[q])?e[q]():e.slice(q):e.slice(q)}!k&&(e=e[0],f=M[e],f||(f=["",""],f={tag:(e.match(/^[-\w]+/)||["div"])[0],id:(e.match(/#([-\w]+)/)||f)[1],"class":(e.match(/\.([-\w.]+)/)||f)[1].replace(/\./g," ")},M[e]=f),b.tag=f.tag,f.id||f["class"])&&(e=b.props||{},f.id&&null==e.id&&(e.id=f.id),f["class"]&&(b["class"]=f["class"],e["class"]=f["class"]+(null!=e["class"]?" "+e["class"]:"")),b.props=
e);if(b.props){var e=b.props,d;for(d in e)!l.isEvProp(d)&&l.isFunc(e[d])&&("href"==d?(e.onclick=e[d],e.href=e[d].href):e[d]=e[d]()),l.isDynProp(b.tag,d)&&(e["."+d]=e[d]);if(l.isObj(e.style))for(var n in e.style)d=e.style[n],l.isFunc(d)&&(e.style[n]=d());l.isObj(e._hooks)&&(b.hooks=e._hooks,e._hooks=null);b.key=l.isVal(e._key)?e._key:l.isVal(e._ref)?e._ref:l.isVal(e.id)?e.id:l.isVal(e.name)?e.name:null;null!=e._ref&&(b.ref=e._ref);e._raw&&(b.raw=!0);null!=e._data&&(b.data=e._data);e._diff&&(b.diff=
e._diff);e._ref=e._key=e._raw=e._data=e._diff=null}}else l.isVal(e)?(b.type=l.TYPE_TEXT,b.body=e):l.isElem(e)&&(b.type=l.TYPE_ELEM,b.el=e,b.tag=e.nodeName.toLowerCase());null!==b.ref&&l.deepSet(c.refs,b.ref,b);b.parent=h;b.idx=m;b.ns=h&&h.ns?h.ns:"svg"===b.tag||"math"===b.tag?b.tag:null;a||b.diff||!l.isArr(b.body)||p(b,c);return b}function p(b,h){for(var m=0,c=b.body.length;m<c;m++){var a=b.body[m],e=null,f=null,k=!1,d=!1;l.isFunc(a)&&(a=a());if(null==a)k=!0;else{var n=l.isArr(a),p=n?!1:l.isObj(a);
if(n)a.length?a._expl?d=!0:"string"==typeof a[0]?(f=q(a,b,m,h),e=f.key):l.isFunc(a[0])?e=v(a[1],a[2]):d=!0:k=!0;else if(p)if(l.isFunc(a.redraw))a.moveTo(b,m),f=a.node,e=a.view[1];else if(l.isElem(a))f=q(a,b,m,h);else{b.body[m--]=""+a;continue}else""===a?k=!0:0<m&&b.body[m-1].type===l.TYPE_TEXT?(b.body[m-1].body+=""+a,k=!0):f=q(""+a,b,m,h)}k||d?(d?l.insertArr(b.body,a,m,1):b.body.splice(m,1),c=b.body.length,m--):(null!==e&&(b.hasKeys=!0),b.body[m]=f||a)}b.body._init=!0}function y(b,h){if(C(h,b))return h.moved=
!0,h.wasSame=!0,h;h&&(d(b,"willRecycle",h,b),A(h,b),d(b,"didRecycle",h,b));if(l.isArr(b.body)){if(!b.body._init){for(var a=b;!a.vm;)a=a.parent;p(b,a.vm)}var c=0;b.body.forEach(function(a,e){var m=l.isArr(a);if(h){var f=B(a,b,h,c);if(null!==f){var k=f[0],f=f[1];k===c&&c++;k=h.body[k];k.vm?m?2===f?k.vm.moveTo(b,e,a[1]):1===f&&g(a[0],a[1],a[2],a[3],b,e):a.vm&&2===f&&a.vm===k.vm&&k.vm.moveTo(b,e):b.body[e]=y(a,k);return}}m?g(a[0],a[1],a[2],a[3],b,e):b.body[e]=y(a)})}return b}function u(b,h,a,c){for(var f=
!b.el;a&&a._node.removed;)a=a.nextSibling;f&&b.vm&&d(b.vm,"willMount",b.vm);if(b.type==l.TYPE_ELEM)if(f&&(b.el=h||(b.ns?K.createElementNS(P[b.ns],b.tag):K.createElement(b.tag)),b.props&&I(b)),l.isArr(b.body)){h=0;for(var e=b.el.firstChild;h<b.body.length;h++)e=u(b.body[h],null,e)}else l.isVal(b.body)&&(b.raw?b.el.innerHTML=b.body:f&&(b.el.textContent=b.body));else b.type==l.TYPE_TEXT&&f&&(b.el=K.createTextNode(b.body));b.el._node=b;h=b.parent;a!==b.el&&(c||h&&h.el)&&(h=f?"Insert":"Reinsert",d(b,"will"+
h,b),(c||b.parent.el).insertBefore(b.el,a),d(b,"did"+h,b));f&&b.vm&&b.vm.hooks&&!b.moved&&d(b.vm,"didMount",b.vm);return a!==b.el?a:a.nextSibling}function B(b,h,a,c,f){var e=l.isArr(b),k=e?v(b[1],b[2]):b.key,d=a.hasKeys,q=h.hasKeys;a=a.body;h=h.body;if(null!==k&&d)return b=l.keyedIdx(k,a,e?b[0]:null),-1<b?[b,2]:null;c=c||0;if(c>a.length-1)return null;f=0===f?0:f||a.length-1;for(k=null;c<=f;c++)if(d=a[c],null!==d&&d.el)if(e&&d.vm){if(d.vm.view[0]===b[0]){if(d.vm.view[1]===v(b[1],b[2]))return[c,2];
!k&&q&&-1==l.keyedIdx(d.key,h,d.vm.view[0])&&(k=[c,1])}}else if(b.type===d.type&&(b.type===l.TYPE_TEXT||null!==b.tag&&b.tag===d.tag)&&(null===d.key||!q||-1==l.keyedIdx(d.key,h,d.vm?d.vm.view[0]:null)))return[c,1];return k}function C(b,a){if(b&&b.diff&&a.diff&&b.diff[0]===a.diff[0]){var c=b.diff.slice(1).concat(a.diff.slice(1));return!a.diff[0].apply(null,c)}return!1}function A(b,a){if(b.el)if(a.el=b.el,b.el=null,a.el&&(a.el._node=a),a.type===l.TYPE_TEXT&&a.body!==b.body)a.el.nodeValue=a.body;else{I(a,
b);var c=!l.isArr(a.body),f=!l.isArr(b.body);c&&a.body!==b.body?f&&a.el.firstChild?a.el.firstChild.nodeValue=a.body:a.raw?a.el.innerHTML=a.body:a.el.textContent=a.body:f&&!c&&(a.el.textContent="");b.moved=!0}}function f(b){b.removed&&b.vm&&(b.vm.node=null);b.el=b.key=b.ref=b.data=b.diff=b.vm=b.body=b.props=null;b.raw=b.moved=b.wasSame=b.removed=!1;J.push(b)}function k(b,a,c,f){return function(c){var e,k=c.target._node,m=null;if(l.isFunc(b))e=b.call(a,c,k,f);else if(l.isArr(b))m=b.slice(1),e=b[0].apply(a,
m.concat(c,k,f));else if(l.isObj(b))for(var d in b){var q=b[d];null!=q&&"_"!=d[0]&&c.target.matches(d)&&(l.isArr(q)?(m=q.slice(1),e=q[0].apply(a,m.concat(c,k,f))):l.isFunc(q)&&(e=q.call(a,c,k,f)))}!1===e&&(c.preventDefault(),c.stopPropagation());f.opts.hasOwnProperty("watch")&&f.opts.watch.fire({type:"event",vm:f,node:k,event:c,data:m})}}function I(b,a){var c=!a;a=a||{};if(a.props||b.props){var f=a.props||{},k=b.props||{},e=f.style,d=k.style;if(l.isObj(e)||l.isObj(d))N(b.el,b.tag,e||{},d||{},x,Q,
b.ns,c,b),f.style=k.style=null;N(b.el,b.tag,f,k,L,E,b.ns,c,b);d&&(k.style=d)}}function N(b,a,c,f,k,e,d,q,n){for(var p in f)if(a=f[p],null!==a){var g="."===p[0]?b[p.substr(1)]:c[p];a===g||l.isArr(a)&&l.isArr(g)&&l.cmpArr(a,g)||k(b,p,a,d,q,n)}for(p in c)null!==c[p]&&null==f[p]&&e(b,p,d,q)}function x(b,a,c){b.style[a]=l.autoPx(a,c)}function Q(b,a){b.style[a]=""}function L(b,a,c,f,d,e){if("."===a[0])a=a.substr(1),"svg"===f?b[a].baseVal=c:b[a]=c;else if("class"===a)b.className=c;else if("id"===a)b[a]=
c;else if(l.isEvProp(a)){for(f=e;!f.vm;)f=f.parent;b[a]=k(c,f.vm.opts.evctx||f.vm.model||null,e,f.vm)}else!1===c?E(b,a,f,d):b.setAttribute(a,!0===c?"":c)}function E(b,a,c,f){f||("."===a[0]?(a=a.substr(1),"svg"===c?b[a].baseVal=null:b[a]=null):"class"===a?b.className="":"id"===a||l.isEvProp(a)?b[a]=null:b.removeAttribute(a))}var P={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},K="undefined"==typeof document?{}:document,M={},J=[],H=[],G={debounce:!0,repaint:!0};w.view=
g;w.view.config=function(b){for(var a in b)G[a]=b[a]};var F=null;w.view.extend=function(b,a){F=!F||a?[]:F;F.push(b)};var l=w.utils;return w})(domvm);(function(w){var t=/^(?:img|br|input|col|link|meta|area|base|command|embed|hr|keygen|param|source|track|wbr)$/,v=w.utils;w.html=function(g){var a="";switch(g.type){case v.TYPE_ELEM:a+="<"+g.tag;if(g.props){var d=v.isVal(g.props.style)?g.props.style:"",n=v.isObj(g.props.style)?g.props.style:null;if(n)for(var c in n)null!==n[c]&&(d+=v.camelDash(c)+": "+v.autoPx(c,n[c])+"; ");for(c in g.props)v.isEvProp(c)||"."===c[0]||(n=g.props[c],v.isFunc(n)&&(n=n()),v.isObj(n)||(!0===n?a+=" "+c:!1!==n&&null!==n&&
"."!==c[0]&&(a+=" "+c+'="'+n+'"')));d.length&&(a+=' style="'+d.trim()+'"')}if(g.ns&&"svg"!==g.tag&&"math"!==g.tag&&!g.body)return a+"/>";a+=">";break;case v.TYPE_TEXT:return g.body}t.test(g.tag)||(v.isArr(g.body)?g.body.forEach(function(c){a+=w.html(c)}):a+=g.body||"",a+="</"+g.tag+">");return a}})(domvm);(function(w){var t=w.utils;w.watch=function(v){function g(){}function a(a,d,p,g,u){u=u||{};u.method=a.toUpperCase();"credentials"in u||(u.credentials="same-origin");null!==p&&(t.isArr(p)||t.isObj(p)?(u.headers=u.headers||new Headers,u.headers.set("Content-Type","application/json"),u.body=JSON.stringify(p)):u.body=""+p);var B=g,C=function(a){return Promise.reject(a)};g instanceof Array&&(B=g[0],g[1]&&(C=g[1]));var A={type:"fetch",fetch:{method:a,url:d,body:p}};g=fetch(d,u).then(function(a){if(200<=
a.status&&300>a.status)return a;var c=Error(a.status+": "+a.statusText);c.data=a;return Promise.reject(c)}).then(function(a){switch(a.headers.get("Content-Type").split("; ")[0]){case "application/json":return a.json();case "text/plain":return a.text();default:return a}}).then(B,C).then(function(a){!1!==a&&n.fire(A);return a},function(a){A.error=a;n.fire(A);return Promise.reject(a)});g._fetchArgs=[a,d,p,[B,C],u];return g}var d=[];t.isFunc(v)&&d.push(v);var n={on:function(a){d.push(a);return n},off:function(a){d.splice(d.indexOf(a),
1);return n},fire:t.raft(function(a){t.execAll(d,a);return n}),prop:function(c,d,p){var y=c,u=function(a,c,f){if(arguments.length&&a!==y){f=f||{type:"prop",prop:u,data:{old:y,"new":a}};p&&(a=p(f));if("undefined"==typeof a||a===y)return y;y=f.data["new"]=a;t.isFunc(c)?c(f):!1!==c&&n.fire(f)}return y};u._prop=!0;if(d&&d.then){u.update=g;if(d._fetchArgs){var B=d._fetchArgs[3];d._fetchArgs[3]=[function(a){return u(B[0]?B[0](a):a)},B[1]];u.update=function(){a.apply(null,d._fetchArgs)}}d.then(u)}return u.toString=
u},sync:function(a,d,p){var g=a,u=d;t.isFunc(g)||(g=function(d,g,p){if("string"==typeof a){var f,k;"e."==a.substr(0,2)?(f=d,k=a.substr(2)):(f=d.target,k=a)}return t.deepGet(f,k)});t.isArr(u)&&(u=function(a,c,g){var f=d[0],k=d[1];t.isFunc(k)&&(k=k(g.event,g.node,g.vm));var p=t.deepGet(f,k);a!==p&&(t.deepSet(f,k,a,c,g),t.isFunc(c)?c(g):!1!==c&&n.fire(g))});return function(a,c,d){var f={type:"sync",vm:d,node:c,event:a};u(g(a,c,d),p,f)}},fetch:a,get:function(c,d,g){g?c+=n.query(d):g=d;return a("get",
c,null,g)},"delete":function(c,d,g){g?c+=n.query(d):g=d;return a("delete",c,null,g)},post:function(c,d,g){return a("post",c,d,g)},put:function(c,d,g){return a("put",c,d,g)},patch:function(c,d,g){return a("patch",c,d,g)},query:function(a){if(!t.isObj(a))return"";var d=[],g=encodeURIComponent,n;for(n in a)d.push(g(n)+"="+g(a[n]));return d.length?"?"+d.join("&"):""}};return n}})(domvm);(function(w){function t(a,c,d,g,n,q){var f=null,k=null,t=null;if("/"==d[0]){t=d;k=!1;g={};q=t.split("#");c=q[0].split("?");f=c[0];q=q[1];c[1]&&(n={},c[1].split("&").map(function(a){a=a.split("=");n[a[0]]=null==a[1]?!0:a[1]}));var v,x;for(x in a){d=a[x];var w=d.path;if(v=f.match(d.regexPath)){k=x;-1!==w.indexOf(":")&&(g={},v.shift(),w.replace(/:([^\/]+)/g,function(a,c){g[c]=v.shift()}));break}}}else{k=d;d=a[k];var w=c+d.path,L=d.vars||{},t=-1!==w.indexOf(":")?f=w.replace(/:([^\/]+)/g,function(a,c){if((L[c]||
/^[^\/]+$/).test(g[c]))return g[c]+="";throw Error("Invalid value for route '"+w+"' segment '"+c+"': '"+g[c]+"'");}):f=w;if(n){var t=t+"?",E;for(E in n)t+=E+(!0!==n[E]?"="+n[E]:"")+"&";t=t.slice(0,-1)}t+=q?"#"+q:""}return{href:t,name:k,path:f,segs:g,hash:q,query:n}}function v(a,c){for(var d in a){var g=a[d];g.regexPath=new RegExp("^"+c+g.path.replace(/:([^\/]+)/g,function(a,c){var d=""+((g.vars||{})[c]||/[^\/]+/);return"("+d.substring(1,d.lastIndexOf("/"))+")"})+"$")}}var g=[],a=null,d=!1,n=null,
c=null,q="";w.route=function(p,w){function u(){var a=location,a=d?a.href.substr(a.origin.length):a.hash.substr(1)||"/";return t(A,q,a)}var B=null,C={href:function(a,c,f,g,n){var p=t(A,q,a,c,f,g);return d?(a=function(a){C["goto"](p,null,null,null,n);a.preventDefault()},a.href=p.href,a):"#"+p.href},config:function(a){(d=a.useHist)&&(q=a.root||"");n=a.willEnter||null;c=a.willExit||null;B=a.init||null},refresh:function(){C["goto"](u(),null,null,null,!0)},"goto":function(k,p,u,x,w){k.href||(k=t(A,q,k,
p,u,x));if(!1===k.name)console.log("Could not find route");else{p=null;for(x=0;x<g.length;x++)if(g[x].href===k.href){p=x;break}null===p&&(g.splice(a+1,1E4),g.push(k),p=g.length-1);k=g[a];x=g[p];var v=!0;u=!0;null!==a&&(c&&(v=c(k,x)),!1!==v&&(v=(v=A[k.name].onexit)?v.apply(null,(k?[k.segs,k.query,k.hash]:[]).concat(x)):!0));!1!==v&&(n&&(u=n(x,k)),!1!==u&&(u=A[x.name].onenter.apply(null,(x?[x.segs,x.query,x.hash]:[]).concat(k))),!1!==u&&(d?(f=!0,history[w?"replaceState":"pushState"](null,"title",x.href)):
(x="#"+x.href,location.hash!==x&&(f=!0,w?location.replace(x):location.hash=x)),a=p))}},location:function(){return null==a?u():g[a]}},A=p(C,w);v(A,q);var f=!1;window.onhashchange=window.onpopstate=function(a){if(d||"popstate"!=a.type)!d&&f?f=!1:C["goto"](u(),null,null,null,!0)};B&&B();return C}})(domvm);
